#:kivy 2.3.1

#:import Window kivy.core.window.Window
<Label>:
    font_size: min(Window.width, Window.height) * 0.03
<TextInput>:
    font_size: min(Window.width, Window.height) * 0.03


<LoopstationWindow>:
    record_button: record
    label_timer: timer_text
    label_tracks: tracks_text
    label_tracks_number: tracks_number
    label_compass_to_record: compass_to_record
    label_center: center_label

    label_bpm: text_bpm
    textinput_bpm: input_bpm


    grid_tracks: track_container

    button_play: play
    button_stop: stop
    button_restart: restart

    togglebutton_automatic_stop: automatic_stop
    togglebutton_play_beat: option_play_beat

    textinput_compass_to_stop: compass_to_stop
    textinput_timer: timer_input
    textinput_beats: beats_input

    metronome_container: metronome_box

    GridLayout:
        x: 0
        y: root.height*0.72
        width: root.width*1
        height: root.height*0.25

        cols: 3

        # Fila uno
        ## timer
        BoxLayout:
            orientation: "horizontal"
            Label:
                id: timer_text
                text: "timer"
            TextInput:
                id: timer_input

        ## Beats
        BoxLayout:
            orientation: "horizontal"
            Label:
                text: "beats"
            TextInput:
                id: beats_input
                text: "0"

        ## BPM
        BoxLayout:
            orientation: "horizontal"
            Label:
                id: text_bpm
                text: "bpm"
            TextInput:
                id: input_bpm
                text: "0"



        # Fila 2
        ## compases a grabar
        BoxLayout:
            orientation: "horizontal"
            Label:
                id: compass_to_record
                text: "compasses to record"

            TextInput:
                id: compass_to_stop
                text: "0"

        ## circulos del Metronomo
        BoxLayout:
            id: metronome_box
            orientation: "horizontal"

        ## tracks
        BoxLayout:
            orientation: "horizontal"
            Label:
                id: tracks_text
                text: "tracks"
            Label:
                id: tracks_number
                text: "0"





    # Widgets
    GridLayout:
        width: root.width*1.0
        height: root.height *0.2
        center_x: root.width * 0.5
        y: root.height * 0.5

        cols: 3


        # Col 1
        ToggleButton:
            id: option_play_beat
            text: "play beat"
            state: "down"

        ## Grabar
        ToggleButton:
            id: record
            text: "record"

        ## Opcion Parar grabación por numero de compass
        ToggleButton:
            id: automatic_stop
            text: "stop by number of compass"

        # Col 2
        ## Opciones de reproducción de tracks
        Button:
            id: play
            text: 'play'

        Button:
            id: stop
            text: 'stop'

        Button:
            id: restart
            text: 'restart'




    # Scroll | Contenedor de Pistas
    ScrollView:
        do_scroll_x: True
        do_scroll_y: True

        width: root.width*1
        height: root.height * 0.44

        center_x: root.width * 0.5
        y: root.height * 0.0475

        # CheckBox Tracks
        GridLayout:
            id: track_container
            cols: 6




    # Timer
    FloatLayout:
        Label:
            id: center_label
            center_x: root.center_x
            center_y: root.center_y
            opacity: 1
