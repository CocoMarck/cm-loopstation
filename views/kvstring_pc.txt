#:import Window kivy.core.window.Window

<Label, TextInput, ToggleButton, height>:
    font_size: ( min(Window.width, Window.height)*0.05 )

<FPSSoundLoopstationWindow>:
    record_button: _record_button
    label_timer: _label_timer
    label_tracks: _label_tracks
    label_tracks_number: _label_tracks_number
    label_record_bars: _label_record_bars
    label_center: _label_center
    label_beats: _label_beats
    label_bpm: _label_bpm

    grid_tracks: _grid_tracks

    button_play: _button_play
    button_stop: _button_stop
    button_restart: _button_restart
    button_about: _button_about

    togglebutton_limit_record: _togglebutton_limit_record
    togglebutton_play_beat: _togglebutton_play_beat

    textinput_record_bars: _textinput_record_bars
    textinput_timer: _textinput_timer

    slider_beats: _slider_beats
    slider_bpm: _slider_bpm

    metronome_container: _metronome_container

    BoxLayout:
        # Base
        size_hint_x: 1
        size_hint_y: 1
        pos_hint: {"x":0,"y":0}

        orientation: "vertical"

        BoxLayout:
            # Circulos del Metronomo
            size_hint_y: 0.125
            id: _metronome_container
            orientation: "horizontal"

        BoxLayout:
            # Sección | Control de Grabación y metronomo
            size_hint_y: 0.125

            Button:
                id: _button_about
                text: "about"

            ## Beats
            BoxLayout:
                orientation: "horizontal"
                Label:
                    id: _label_beats
                    text: "beats"
                Slider:
                    id: _slider_beats

            ## BPM
            BoxLayout:
                orientation: "horizontal"
                Label:
                    id: _label_bpm
                    text: "bpm"
                Slider:
                    id: _slider_bpm

        BoxLayout:
            # Sección | Información de aplicación
            orientation: "horizontal"
            size_hint_y: 0.125

            BoxLayout:
                orientation: "horizontal"
                Label:
                    id: _label_timer
                    text: "timer"
                TextInput:
                    id: _textinput_timer

            ## tracks
            BoxLayout:
                orientation: "horizontal"
                Label:
                    id: _label_tracks
                    text: "tracks"
                Label:
                    id: _label_tracks_number
                    text: "0"

            BoxLayout:
                orientation: "horizontal"

                Label:
                    id: _label_record_bars
                    text: "bars"
                TextInput:
                    id: _textinput_record_bars

        BoxLayout:
            # Sección | Funciónes principales
            orientation: "horizontal"
            size_hint_y: 0.125

            ToggleButton:
                id: _togglebutton_play_beat
                text: "play beat"
                state: "down"

            ## Grabar
            ToggleButton:
                id: _record_button
                text: "record"

            ## Opcion Parar grabación por numero de compass
            ToggleButton:
                id: _togglebutton_limit_record
                text: "limit bars"

        BoxLayout:
            # Sección | Control global de pistas
            size_hint_y: 0.125
            orientation: "horizontal"

            Button:
                id: _button_play
                text: 'play'

            Button:
                id: _button_stop
                text: 'stop'

            Button:
                id: _button_restart
                text: 'restart'

        ScrollView:
            # Scroll | Contenedor de Pistas
            size_hint_y: 0.5

            do_scroll_x: True
            do_scroll_y: True

            # CheckBox Tracks
            GridLayout:
                id: _grid_tracks
                cols: 6

                row_default_height: ( min(Window.width, Window.height) * 0.1 )
                row_force_default: True

    # Timer
    FloatLayout:
        Label:
            id: _label_center
            pos_hint: {"center_x":0.5,"center_y":0.8}
            opacity: 1
            color: "yellow"
